<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deploy Your Nostr Relay - Fly.io + Neon</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    // Import React components
    const { useState } = React;
    const { CheckCircle2, Circle, ChevronDown, ChevronUp, Copy, Play } = {
      CheckCircle2: (props) => <svg {...props} fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>,
      Circle: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg>,
      ChevronDown: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"></polyline></svg>,
      ChevronUp: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"></polyline></svg>,
      Copy: (props) => <svg {...props} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>,
      Play: (props) => <svg {...props} fill="currentColor" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>,
    };

    // Paste your entire FlyioSetupGuide component here
    function FlyioSetupGuide() {
      const [expandedSteps, setExpandedSteps] = useState({
        1: true,
        2: false,
        3: false,
        4: false,
        5: false,
        6: false,
        7: false,
      });
      
      const [completedSteps, setCompletedSteps] = useState({});
      const [copiedText, setCopiedText] = useState(null);

      const toggleStep = (stepNum) => {
        setExpandedSteps(prev => ({
          ...prev,
          [stepNum]: !prev[stepNum]
        }));
      };

      const toggleComplete = (stepNum) => {
        setCompletedSteps(prev => ({
          ...prev,
          [stepNum]: !prev[stepNum]
        }));
      };

      const copyToClipboard = (text, id) => {
        navigator.clipboard.writeText(text);
        setCopiedText(id);
        setTimeout(() => setCopiedText(null), 2000);
      };

      const steps = [
        {
          num: 1,
          title: 'Create Neon Database',
          duration: '2 min',
          videoId: 'neon-setup-video',
          videoPlaceholder: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
          instructions: [
            {
              text: 'Go to neon.com and sign up (free account, no credit card)',
              substeps: [
                'Navigate to neon.com',
                'Click "Sign Up" in the top right',
                'Follow the signup process'
              ]
            },
            {
              text: 'Create a new PostgreSQL project',
              substeps: [
                'Once logged in, click "New Project"',
                'Name it "nostr-relay" (or your preference)',
                'Click "Create Project"',
                'Neon will spin up a free PostgreSQL database for you'
              ]
            },
            {
              text: 'Copy your full connection string',
              substeps: [
                'You\'ll see your connection string: postgresql://user:password@ep-xxx.neon.tech/dbname',
                'Click the copy icon to copy the entire connection string',
                'Paste it into a text editor - you\'ll need this in Step 6'
              ]
            }
          ],
          copyValues: [
            { label: 'Example Neon Connection String', value: 'postgresql://user:password@ep-example.neon.tech/dbname', id: 'neon-conn' }
          ]
        },
        // Add all other steps here...
      ];

      return (
        <div className="w-full bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 min-h-screen p-4 md:p-8">
          <div className="max-w-4xl mx-auto">
            <div className="mb-12">
              <h1 className="text-4xl md:text-5xl font-bold text-white mb-3">
                Deploy Your Nostr Relay
              </h1>
              <p className="text-xl text-slate-300 mb-2">Setup guide for Fly.io + Neon DB</p>
              <p className="text-slate-400">Total time: ~20-30 minutes | Cost: $0/month forever</p>
            </div>

            <div className="mb-8">
              <div className="flex justify-between mb-2">
                <span className="text-sm font-semibold text-slate-300">Your Progress</span>
                <span className="text-sm font-semibold text-slate-300">{Object.values(completedSteps).filter(Boolean).length}/{steps.length} complete</span>
              </div>
              <div className="w-full bg-slate-800 rounded-full h-2">
                <div 
                  className="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all"
                  style={{ width: `${(Object.values(completedSteps).filter(Boolean).length / steps.length) * 100}%` }}
                ></div>
              </div>
            </div>

            <p className="text-center text-slate-300 mt-8">Guide loading...</p>
          </div>
        </div>
      );
    }

    // Render the component
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<FlyioSetupGuide />);
  </script>
</body>
</html>
